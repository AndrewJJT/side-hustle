<div class="container">
  <p>Hi, {{ user.ufn }}</p>
  <p>Please Let Other People Know What You Need To Get Done!</p>
  <form (ngSubmit)="CreateTask()">
    <div class="form-row">
      <div class="form-group col-md-3">
        <label for="tasktitle">Job Title</label>
        <input
          [(ngModel)]="tempTask.ttitle"
          name="ttitle"
          type="text"
          class="form-control"
          id="tasktitle"
        />
      </div>
      <div class="form-group col-md-2">
        <label for="taskprice">Job Offer</label>
        <input
          [(ngModel)]="tempTask.tprice"
          name="tprice"
          type="number"
          class="form-control"
          id="taskprice"
          placeholder="$"
        />
      </div>
      <div class="form-group col-md-2">
        <label for="taskprice">Job Duration(Hours)</label>
        <input
          [(ngModel)]="tempTask.tduration"
          name="tduration"
          type="number"
          class="form-control"
          id="taskduration"
          placeholder="Hours"
        />
      </div>
    </div>
    <div class="form-group">
      <label for="taskdesc">Job Description</label>
      <textarea
        [(ngModel)]="tempTask.tdesc"
        name="tdesc"
        rows="5"
        type="text"
        class="form-control"
        id="taskdesc"
        placeholder="Please give detail of the job"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="taskstreet">Address</label>
      <input
        [(ngModel)]="tempTask.tstreet"
        name="tstreet"
        type="text"
        class="form-control"
        id="taskstreet"
        placeholder="1234 Main St"
      />
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="taskcity">City</label>
        <input
          [(ngModel)]="tempTask.tcity"
          name="tcity"
          type="text"
          class="form-control"
          id="taskcity"
        />
      </div>
      <div class="form-group col-md-4">
        <label for="taskstate">State</label>
        <select
          [(ngModel)]="tempTask.tstate"
          name="tstate"
          id="taskstate"
          class="form-control"
        >
          <option selected>Choose...</option>
          <option value="AL">Alabama</option>
          <option value="AK">Alaska</option>
          <option value="AZ">Arizona</option>
          <option value="AR">Arkansas</option>
          <option value="CA">California</option>
          <option value="CO">Colorado</option>
          <option value="CT">Connecticut</option>
          <option value="DE">Delaware</option>
          <option value="DC">District Of Columbia</option>
          <option value="FL">Florida</option>
          <option value="GA">Georgia</option>
          <option value="HI">Hawaii</option>
          <option value="ID">Idaho</option>
          <option value="IL">Illinois</option>
          <option value="IN">Indiana</option>
          <option value="IA">Iowa</option>
          <option value="KS">Kansas</option>
          <option value="KY">Kentucky</option>
          <option value="LA">Louisiana</option>
          <option value="ME">Maine</option>
          <option value="MD">Maryland</option>
          <option value="MA">Massachusetts</option>
          <option value="MI">Michigan</option>
          <option value="MN">Minnesota</option>
          <option value="MS">Mississippi</option>
          <option value="MO">Missouri</option>
          <option value="MT">Montana</option>
          <option value="NE">Nebraska</option>
          <option value="NV">Nevada</option>
          <option value="NH">New Hampshire</option>
          <option value="NJ">New Jersey</option>
          <option value="NM">New Mexico</option>
          <option value="NY">New York</option>
          <option value="NC">North Carolina</option>
          <option value="ND">North Dakota</option>
          <option value="OH">Ohio</option>
          <option value="OK">Oklahoma</option>
          <option value="OR">Oregon</option>
          <option value="PA">Pennsylvania</option>
          <option value="RI">Rhode Island</option>
          <option value="SC">South Carolina</option>
          <option value="SD">South Dakota</option>
          <option value="TN">Tennessee</option>
          <option value="TX">Texas</option>
          <option value="UT">Utah</option>
          <option value="VT">Vermont</option>
          <option value="VA">Virginia</option>
          <option value="WA">Washington</option>
          <option value="WV">West Virginia</option>
          <option value="WI">Wisconsin</option>
          <option value="WY">Wyoming</option>
        </select>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Create</button>
  </form>

  <div>
    <p>All Current Tasks</p>
  </div>
  <div class="alluploadedtasks">
    <table class="table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Job Price</th>
          <th>Duration(Hours)</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of user.tasks">
          <td scope="row">{{ task.ttitle }}</td>
          <td>${{ task.tprice }}</td>
          <td>{{ task.tduration }}</td>
          <td><button>Details</button> | <button>Proposals</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div>
    <p>All Submitted Bids</p>
  </div>
  <div class="allsubmittedbids">
    <table class="table">
      <thead>
        <tr>
          <th>Bid Title</th>
          <th>Submitted Bit Price</th>
          <th>Task Number</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let bid of user.bids">
          <td scope="row">{{ bid.btitle }}</td>
          <td>${{ bid.bprice }}</td>
          <td>{{ bid.tid }}</td>
          <td><button>Details</button></td>
          <td>
            <button (click)="RemoveBid(bid.id)" class="btn btn-danger">
              Remove Bid
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>




 <div class="tasks">

<h2 class="text-center">Tasks You Posted</h2>
    <div *ngFor="let task of user.tasks"  let i="index" class="task">
      <h5 class="tasktitle">{{task.ttitle}}</h5>
      <div class="container">
        <div class="row">
      <div class="col-sm-6 text-center">
        <h4>Details</h4>
      <div class="taskdesc">
        <h6>Description: </h6>
          <p>{{task.tdesc}}</p>
      </div>
      <div class="taskcontent">
          <div class="taskdetail">
            <div class="tsdp"> <h6>Offered Price: </h6> <p>{{ task.tprice}} $</p> </div>
            <div class="tsdp2"> <h6>Duration in Hours: </h6> <p>{{ task.tduration}}</p></div>
          </div>
          </div>
                          <div class="actions">
       <button (click)="RemoveTask(task.tid)" class="btn btn-remove">Remove Job</button>
       <button class="btn" (click)="task.formShow = !task.formShow" id="editShowBtn">{{buttonName}}</button>
      </div>




<div class="ditform" *ngIf="task.formShow">

<form (ngSubmit)="updateTask()" class="updateForm" >
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="tasktitle">Title</label>
        <input
          [(ngModel)]="task.ttitle"
          name="ttitle"
          type="text"
          class="form-control"
        />
      </div>
      <div class="form-group col-md-4">
        <label for="taskprice">Offer</label>
        <input
          [(ngModel)]="task.tprice"
          name="tprice"
          type="number"
          class="form-control"
          placeholder="$"
        />
      </div>
      <div class="form-group col-md-4">
        <label for="taskprice">Duration(Hrs)</label>
        <input
          [(ngModel)]="task.tduration"
          name="tduration"
          type="number"
          class="form-control"
          placeholder="Hours"
        />
      </div>
    </div>
    <div class="form-group">
      <label for="taskdesc">Description</label>
      <textarea
        [(ngModel)]="task.tdesc"
        name="tdesc"
        rows="5"
        type="text"
        class="form-control"
        placeholder="Please give detail of the job"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="taskstreet">Address</label>
      <input
        [(ngModel)]="task.tstreet"
        name="tstreet"
        type="text"
        class="form-control"
        placeholder="1234 Main St"
      />
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="taskcity">City</label>
        <input
          [(ngModel)]="task.tcity"
          name="tcity"
          type="text"
          class="form-control"
        />
      </div>
      <div class="form-group col-md-6">
        <label for="taskstate">State</label>
        <select
          [(ngModel)]="task.tstate"
          name="tstate"
          class="form-control"
        >
          <option selected>Choose...</option>
          <option value="AL">Alabama</option>
          <option value="AK">Alaska</option>
          <option value="AZ">Arizona</option>
          <option value="AR">Arkansas</option>
          <option value="CA">California</option>
          <option value="CO">Colorado</option>
          <option value="CT">Connecticut</option>
          <option value="DE">Delaware</option>
          <option value="DC">District Of Columbia</option>
          <option value="FL">Florida</option>
          <option value="GA">Georgia</option>
          <option value="HI">Hawaii</option>
          <option value="ID">Idaho</option>
          <option value="IL">Illinois</option>
          <option value="IN">Indiana</option>
          <option value="IA">Iowa</option>
          <option value="KS">Kansas</option>
          <option value="KY">Kentucky</option>
          <option value="LA">Louisiana</option>
          <option value="ME">Maine</option>
          <option value="MD">Maryland</option>
          <option value="MA">Massachusetts</option>
          <option value="MI">Michigan</option>
          <option value="MN">Minnesota</option>
          <option value="MS">Mississippi</option>
          <option value="MO">Missouri</option>
          <option value="MT">Montana</option>
          <option value="NE">Nebraska</option>
          <option value="NV">Nevada</option>
          <option value="NH">New Hampshire</option>
          <option value="NJ">New Jersey</option>
          <option value="NM">New Mexico</option>
          <option value="NY">New York</option>
          <option value="NC">North Carolina</option>
          <option value="ND">North Dakota</option>
          <option value="OH">Ohio</option>
          <option value="OK">Oklahoma</option>
          <option value="OR">Oregon</option>
          <option value="PA">Pennsylvania</option>
          <option value="RI">Rhode Island</option>
          <option value="SC">South Carolina</option>
          <option value="SD">South Dakota</option>
          <option value="TN">Tennessee</option>
          <option value="TX">Texas</option>
          <option value="UT">Utah</option>
          <option value="VT">Vermont</option>
          <option value="VA">Virginia</option>
          <option value="WA">Washington</option>
          <option value="WV">West Virginia</option>
          <option value="WI">Wisconsin</option>
          <option value="WY">Wyoming</option>
        </select>
      </div>
    </div>
    <button type="submit" class="btn btn-primary" (click)="updateTask(task.tid)">Save Update</button>
  </form>


          </div>

          </div>

          <div class="col-sm-6 text-center">
          <div class="bids">
            <h4>Bids</h4>
            <div *ngFor="let bid of task.bids" class="bidsfortask">
                <p class="bid">Bid: {{bid.btitle}} Offer for Job: {{ bid.bprice}} $</p>
            </div>
          </div>
      </div>
       </div>
      </div>

    </div>
  </div>




</div>
